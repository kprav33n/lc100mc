* Identify APIs to use

** Autorization

http -v https://www.strava.com/oauth/mobile/authorize client_id==59534 redirect_uri==https://localhost/code response_type==code approval_prompt==auto scope==activity:read

Callback https://localhost/code?state=&code=4e4f2dfe4475c45480fd462e920d32cd50d64a3e&scope=read,activity:read

** Obtain access token

http POST https://www.strava.com/oauth/token client_id=59534 client_secret=313512615a97d7b1ae8d1cff1c3ba8156f2c0c87 code=db573e0f12e82c591f315e8c6e991102741eec6e grant_type=authorization_code f=json

#+begin_src json
{"token_type":"Bearer","expires_at":1610523134,"expires_in":21600,"refresh_token":"c63fb22b263164c322df5bfca67adb6dcb14ed7a","access_token":"34f6571e8e5456d646cdd98d85b9606fdfe36684","athlete":{"id":77959,"username":"kprav33n","resource_state":2,"firstname":"Praveen","lastname":"Kumar","city":"Oak Park","state":"CA","country":"United States","sex":"M","premium":true,"summit":true,"created_at":"2011-06-17T16:24:27Z","updated_at":"2021-01-12T16:20:06Z","badge_type_id":1,"profile_medium":"https://dgalywyr863hv.cloudfront.net/pictures/athletes/77959/35871/4/medium.jpg","profile":"https://dgalywyr863hv.cloudfront.net/pictures/athletes/77959/35871/4/large.jpg","friend":null,"follower":null}}

#+end_src

** Request activities

http -v GET "https://www.strava.com/api/v3/athlete/activities?page=1&per_page=50" "Authorization: Bearer 35fd7ce66a3c80033e480e653250cd3a7dfabfd3"

#+begin_src json
[{"resource_state":2,"athlete":{"id":77959,"resource_state":1},"name":"Afternoon Walk","distance":1612.6,"moving_time":1220,"elapsed_time":1220,"total_elevation_gain":12.0,"type":"Walk","id":4611158496,"external_id":"garmin_push_6097898244","upload_id":4925391207,"start_date":"2021-01-12T21:36:15Z","start_date_local":"2021-01-12T13:36:15Z","timezone":"(GMT-08:00) America/Los_Angeles","utc_offset":-28800.0,"start_latlng":[34.17,-118.79],"end_latlng":[34.17,-118.79],"location_city":null,"location_state":null,"location_country":"United States","start_latitude":34.17,"start_longitude":-118.79,"achievement_count":0,"kudos_count":2,"comment_count":0,"athlete_count":1,"photo_count":0,"map":{"id":"a4611158496","summary_polyline":"}gqoE|r_tUG^FDjA@X@TDVAFDd@BXDL?HG@Y[{@Kc@GQ[Wk@UkAAMBEJIl@ELCROj@?\\DBH@vB?zARTCDOAIUy@GIMe@KMUYMG]KQAc@B[AIDOdAS|@AJDRPL^?XGVAnBVRCHMCYg@}ACGWW_@UKCWCs@?I?GHMt@a@p@@A?@DN@f@B@PD","resource_state":2},"trainer":false,"commute":false,"manual":false,"private":false,"visibility":"everyone","flagged":false,"gear_id":"g5122105","from_accepted_tag":false,"upload_id_str":"4925391207","average_speed":1.322,"max_speed":1.9,"average_cadence":56.2,"average_temp":26,"has_heartrate":true,"average_heartrate":114.0,"max_heartrate":127.0,"heartrate_opt_out":false,"display_hide_heartrate_option":true,"elev_high":330.2,"elev_low":325.2,"pr_count":0,"total_photo_count":0,"has_kudoed":false,"suffer_score":4.0},{"resource_state":2,"athlete":{"id":77959,"resource_state":1},"name":"Morning Run","distance":5112.2,"moving_time":2288,"elapsed_time":2288,"total_elevation_gain":40.0,"type":"Run","workout_type":null,"id":4609682308,"external_id":"garmin_push_6096472837","upload_id":4923864463,"start_date":"2021-01-12T16:45:09Z","start_date_local":"2021-01-12T08:45:09Z","timezone":"(GMT-08:00) America/Los_Angeles","utc_offset":-28800.0,"start_latlng":[34.17,-118.79],"end_latlng":[34.17,-118.79],"location_city":null,"location_state":null,"location_country":"United States","start_latitude":34.17,"start_longitude":-118.79,"achievement_count":0,"kudos_count":5,"comment_count":1,"athlete_count":1,"photo_count":0,"map":{"id":"a4609682308","summary_polyline":"geqoEhw_tUGRGDG?u@IU?YKG@MCiACq@E_@OWCU?QKc@?o@IU?s@QoCU[@MEMOAWBOJOLa@Jc@Fm@?c@EWM]KKCS@SG{@Aa@Ie@C]EUKUCSYq@@MAKU{@GKM_@m@aAiAuASOaAe@a@]_AiAS]g@m@GGM@MEu@aAMKe@SQEKHm@fBe@jA{@`Bi@v@i@f@g@h@_ChB_Az@k@`@_@h@?HHVh@v@n@v@Vp@Hn@@`@Ez@@RDRPJJBv@Ff@F|@FbCTr@L|BNrBTpAH~@NVCl@FlAPZ@t@JHGHc@Zo@HWDY@}@Kk@?KMs@SaBGYIcAMo@Ea@[cAmA{BWOOQYQu@s@c@Uq@g@iAyAg@y@]a@U_@a@a@s@]G?GDKf@]~@iAdCg@|@o@z@i@l@_BxAw@l@e@d@k@^m@l@ALDRFJFDJNh@`ALN\\|@H`@@ZG`B@HDHLDn@BnDXxGz@f@BrFj@fAFrAP^CTB`@JvFd@hCZx@DvBRhANl@BJEHOFk@Ca@EIEC}@AKAECEOJk@","resource_state":2},"trainer":false,"commute":false,"manual":false,"private":false,"visibility":"everyone","flagged":false,"gear_id":"g5122105","from_accepted_tag":false,"upload_id_str":"4923864463","average_speed":2.234,"max_speed":3.7,"average_cadence":76.8,"average_temp":20,"has_heartrate":true,"average_heartrate":152.3,"max_heartrate":175.0,"heartrate_opt_out":false,"display_hide_heartrate_option":true,"elev_high":349.2,"elev_low":325.2,"pr_count":0,"total_photo_count":0,"has_kudoed":false,"suffer_score":54.0},{"resource_state":2,"athlete":{"id":77959,"resource_state":1},"name":"Morning Activity","distance":0.0,"moving_time":1677,"elapsed_time":1677,"total_elevation_gain":0,"type":"WeightTraining","id":4603659836,"external_id":"garmin_push_6090464169","upload_id":4917585040,"start_date":"2021-01-11T14:08:22Z","start_date_local":"2021-01-11T06:08:22Z","timezone":"(GMT-08:00) America/Los_Angeles","utc_offset":-28800.0,"start_latlng":null,"end_latlng":null,"location_city":null,"location_state":null,"location_country":"United States","start_latitude":null,"start_longitude":null,"achievement_count":0,"kudos_count":3,"comment_count":0,"athlete_count":1,"photo_count":0,"map":{"id":"a4603659836","summary_polyline":null,"resource_state":2},"trainer":true,"commute":false,"manual":false,"private":false,"visibility":"everyone","flagged":false,"gear_id":null,"from_accepted_tag":false,"upload_id_str":"4917585040","average_speed":0.0,"max_speed":0.0,"average_temp":25,"has_heartrate":true,"average_heartrate":107.7,"max_heartrate":134.0,"heartrate_opt_out":false,"display_hide_heartrate_option":true,"pr_count":0,"total_photo_count":0,"has_kudoed":false,"suffer_score":4.0},{"resource_state":2,"athlete":{"id":77959,"resource_state":1},"name":"2000m row","distance":2000.0,"moving_time":668,"elapsed_time":668,"total_elevation_gain":0,"type":"Rowing","id":4603582840,"external_id":"50303107.fit","upload_id":4917503566,"start_date":"2021-01-11T14:06:52Z","start_date_local":"2021-01-11T06:06:52Z","timezone":"(GMT-08:00) America/Los_Angeles","utc_offset":-28800.0,"start_latlng":null,"end_latlng":null,"location_city":null,"location_state":null,"location_country":"United States","start_latitude":null,"start_longitude":null,"achievement_count":0,"kudos_count":6,"comment_count":0,"athlete_count":1,"photo_count":0,"map":{"id":"a4603582840","summary_polyline":null,"resource_state":2},"trainer":true,"commute":false,"manual":false,"private":false,"visibility":"everyone","flagged":false,"gear_id":null,"from_accepted_tag":false,"upload_id_str":"4917503566","average_speed":2.994,"max_speed":3.6,"average_cadence":22.3,"has_heartrate":true,"average_heartrate":116.4,"max_heartrate":127.0,"heartrate_opt_out":false,"display_hide_heartrate_option":true,"max_watts":94,"pr_count":0,"total_photo_count":1,"has_kudoed":false,"suffer_score":2.0},{"resource_state":2,"athlete":{"id":77959,"resource_state":1},"name":"Night Walk","distance":3293.2,"moving_time":2290,"elapsed_time":2290,"total_elevation_gain":27.0,"type":"Walk","id":4602002825,"external_id":"garmin_push_6088699448","upload_id":4915827985,"start_date":"2021-01-11T05:14:59Z","start_date_local":"2021-01-10T21:14:59Z","timezone":"(GMT-08:00) America/Los_Angeles","utc_offset":-28800.0,"start_latlng":[34.16,-118.82],"end_latlng":[34.16,-118.82],"location_city":null,"location_state":null,"location_country":"United States","start_latitude":34.16,"start_longitude":-118.82,"achievement_count":0,"kudos_count":3,"comment_count":0,"athlete_count":1,"photo_count":0,"map":{"id":"a4602002825","summary_polyline":"wqnoEjvftUC@AG?GFELYUo@A]JSCc@Mc@Ey@GIGUC[@WMkAOU_@[W_@s@i@UUEIAULs@\\qAHUD[Ni@PeAD_@J_@Ha@L[Hi@HORCPDR?@BPArAFRI|@Gh@QXEXOh@I~@g@z@Sv@a@l@Of@Sv@Il@KB@`@BRETDl@A^FJAHBlAb@j@Nd@RfAXh@ZjAXJFrBv@x@Nx@\\N@f@TTDJCBBRDNFFJ@XCXKz@MpASlAM`@]l@G\\Wd@ERE@ILGRGJW`AQZWz@Yf@GVc@t@}@x@WPi@f@MF[`@M\\INGTMTGPGJg@hAQp@SZEVU^IZUd@CNM\\QHUr@CLMVIVYh@k@~AOVI?k@_@a@SK?OMSEQSi@_@WYa@UYMa@Y[c@SMOG]SMOGKO@IIEDE?QQgAk@{AcAm@m@c@Me@]_@Q[Yc@Wk@c@e@WEMi@]GK?IZm@?ODKLQTNPDb@`@BHCNN^h@HXCJB","resource_state":2},"trainer":false,"commute":false,"manual":false,"private":false,"visibility":"everyone","flagged":false,"gear_id":"g5122105","from_accepted_tag":false,"upload_id_str":"4915827985","average_speed":1.438,"max_speed":2.2,"average_cadence":56.5,"average_temp":21,"has_heartrate":true,"average_heartrate":109.2,"max_heartrate":127.0,"heartrate_opt_out":false,"display_hide_heartrate_option":true,"elev_high":303.2,"elev_low":279.2,"pr_count":0,"total_photo_count":0,"has_kudoed":false,"suffer_score":6.0}]
#+end_src
